+ 测试脚本有不有问题，`-n xx.bash`
+ `echo -e \033[32m--------------------------\033[0m` 打印出颜色
+ 在 if 里面一个中括号一般判断文件是否存在之类的，俩中括号判断大小之类的

## if
逻辑运算符解析

| 符号 | 介绍 |
|---|-------------|
| -f | 判断文件是否存在 eg: if [-f filename] |
| -d | 判断目录是否存在 eg: if [-d dir] |
| -eq | 等于 应用于：整型比较 |
| -ne | 不等于 应用于：整型比较 |
| -lt | 小于 应用于：整型比较 |
| -gt | 大于 应用于：整型比较 |
| -le | 小于或等于 应用于：整型比较 |
| -ge | 大于或等于 应用于：整型比较 |
| -a | 双方都成立（and）逻辑表达式 -a 逻辑表达式 |
| -o | 单方成立（or）逻辑表达式 -o 逻辑表达式
| -z | 空字符串（为空） |
<br/>


+ if 里面俩括号是比较大小（计算之类的）
```shell
if (($n1 > $n2)); then
  echo "thisis $n1 greate $n2"
fi
```

+ 目录是否存在（中括号直接必须有空格，! 之间也要有空格）
```shell
if [ ! -d /tmp/2020/0506 ]; then
  mkdir /tmp/2020/0506
  echo -e "\033[32m 目录创建成功 \033[0m"
else
  echo -e "\033[32m 目录已经存在 \033[0m"
fi
```


+ 测试文件是否存在
  > 两 `>>` 是追加文件内容的意思
  > 一个 `>` 是覆盖
```shell
FILES=/tem/xx.txt

if [ ! -f FILES ]; then
  echo "ok" >> $FILES
else
  cat $FILES
fi
```

## 一键安装 LAMP 脚本
```shell
#!bin/bash

# 定义一些 http 路径
H_FILES=httpd-2.2.27.tar.bz2
H_FILES_DIR=httpd-2.2.27
H_URL=http://mirrors.cnnic.cn/apache/httpd/
H_PREFIX=/usr/local/apache2/

# 给提示
if [ -z "$1" ]; then
  echo -e "\033[32m 菜单选项 \033[0m"
  echo "\033[32m1) 编译安装 Apache 服务器\033[1m"
  echo "2)编译安装 Mysql 服务器"
  echo "3)编译安装 PHP 服务器"
  echo "4)配置 index.php 并启动 LAMP 服务"
  echo -e "\033[32mUsage: { /bin/sh $0 1|2|3|4|help}\033[0m"
  exit
fi


# 下载并解压
if [[ "$1" -eq "1" ]];then
  wget -c $H_URL/$H_FILES &&tar -jxvf $H_FILES && cd $H_FILES_DIR;./configure --prefix=$H_PREFIX

  # make 是用来编译的，它从 Makefile 中读取指令，然后编译。
  # make install 是用来安装的，它也从 Makefile 中读取指令，安装到指定的位置。
  if [ $? -eq 0 ]; then
    make &&make install # make install 要有足够的权限
    echo -e "\033[32m $H_FILES_DIR 安装成功 \033[0m"
  else
    echo -e "\033[32m $H_FILES_DIR 安装失败，请检查 \033[0m"
    exit
  fi
fi

# 后面安装 mysql php 是同样的逻辑，就不写了
```